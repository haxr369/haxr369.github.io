---
title: AWS CloudFront
date: 2023-11-23
lastmod: 2023-11-23
tags: ['AWS', 'CloudFront', 'S3', 'DVA-C02']
draft: false
summary: 'AWS의 CloudFront 서비스 정리'
---

## 목차

<TOCInline toc={props.toc} exclude="목차" toHeading={(2, 3)} />

CloudFront는 AWS에서 제공하는 Content Delivery Network (CDN) 서비스다. CloudFront는 여러 엣지 로케이션에서 웹사이트의 콘텐츠를 캐시 처리해 읽기 성능을 높인다.
전 세게에 캐시 서버가 있어서 전 세계의 사용자 경험이 향상된다. 또한 전 세계에 서버가 분산되어 있어 **DDoS** 공격을 해도 **CloudFront**가 **Shield**와 **AWS Web Application Firewall**과 함께 방어할 수 있다.
전 세계에 캐싱하기 때문에 S3 버킷이 한국에 있어서 한번 캐싱되면 미국 사용자의 사용자 경험은 매우 향상된다.

## Originis

CloudFront가 **캐싱**하는 데이터의 **Origin**은 여러 가지가 있다.

1. **S3 bucket**은 CloudFront를 사용해 엣지에 파일을 분산하고 캐시처리하는 데 사용한다. S3에 오직 CloudFront만 접근하도록 하기 위해 **Origin Access Control(OAC)**를 사용할 수 있다.
2. **Custom Origin (HTTP)** 백엔드도 사용할 수 있다. 이는 **Application Load Balancer**, **EC2**, **S3 website**가 될 수 있다. 이외에 어떤 HTTP 백엔드든 가능하다.

## CloudFront와 S3 Cross Region Replication의 차이

1. 글로벌 엣지 네트워크 사용 유무 : CloudFront는 글로벌 엣지 네트워크를 사용한다. 그리고 각 엣지 로케이션에 파일이 TTL이 하루 정도 캐싱된다. 즉 변하지 않는 스테틱 컨텐츠가 있다면
   캐싱의 효과는 극대화된다.
2. 복제 자동화 유무 : S3 Cross Origin Replication은 전 세계 모든 리전에 복제되지 않고, 어떤 리전에 복제본을 만들지 설정해야한다. 또한 파일이 실시간으로 복제되기 때문에 캐싱은 아니고, 읽기 전용이다.
   따라서 변경이 자주 발생하는 **동적 콘텐츠**를 **소수**의 리전에 **짧은 지연 시간** 안에 서비스할 때 유용하다.
